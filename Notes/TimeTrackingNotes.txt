Problem: when connecting the device to USB, MSP430 will lose power, and therefore can lose up to 2048 seconds of time.

Solution: don't have MSP430 lose power when connecting to USB

    Solution 1: have VDD_A=VDD_BAT by default, and VDD_A=VDD_USB only if VDD_BAT isn't connected (or VDD_BAT is too low?)
    Solution 2: have VDD_A=VDD_BAT always, which means we won't be able to read images unless there's a battery connected
    Solution 3: have VDD_A=VDD_BAT by default, and VDD_A=VDD_USB only when STM32 explicitly toggles a GPIO.
                that way, just plugging the device into a USB port won't cause MSP430 to lose power










Time tracking options

When reconnecting battery, we:

- Lose track of time and don't realize it
    

- Lose track of time but detect it
    

- Don't lose track of time
    









It'd be nice if the device can detect when its time is no longer valid because power was lost.

Any way to differentiate between:
  - power loss due to switching from USB power -> battery power
  - power loss due to disconnecting battery

Idea: have MSP430 track which power sources are active (battery, USB) in FRAM. 


--------

Store time in RAM